<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>Harshdeep ‚Äî College Project Portal</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700&display=swap" rel="stylesheet">
<style>
:root{--bg1:#0f172a;--bg2:#071427;--accent:#06b6d4;--glass:rgba(255,255,255,0.08)}
*{box-sizing:border-box}body{font-family:Inter,Arial;margin:0;background:linear-gradient(135deg,var(--bg1),var(--bg2));color:#e6f7fb}
a{color:var(--accent)}.wrap{max-width:1100px;margin:20px auto;padding:20px}
.header{display:flex;justify-content:space-between;align-items:center;gap:12px}
.brand{font-size:20px;font-weight:700;display:flex;align-items:center;gap:10px}
.nav{display:flex;gap:12px}
.nav a{padding:8px 12px;border-radius:8px;text-decoration:none;color:inherit;transition:all .2s}
.nav a:hover{background:var(--glass);transform:translateY(-3px)}
.hero{margin-top:20px;padding:28px;border-radius:12px;background:linear-gradient(180deg,rgba(255,255,255,0.05),transparent);display:flex;align-items:center;gap:20px}
.hero .left{flex:1}
.h1{font-size:30px;margin:0;background:linear-gradient(90deg,#9be8ff,#59d6ff);-webkit-background-clip:text;background-clip:text;color:transparent}
.playbtn{padding:10px 16px;border-radius:8px;background:var(--accent);color:#022;border:none;cursor:pointer;box-shadow:0 6px 18px rgba(6,182,212,0.12);margin:4px 0}
.card{background:var(--glass);padding:16px;border-radius:10px;margin-top:16px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px;margin-top:16px}
.footer{margin-top:24px;text-align:center;color:#9ccbd6}
.small{font-size:13px;color:#bfeaf7}
.fade-in{animation:fadeIn .8s ease both}
@keyframes fadeIn{from{opacity:0;transform:translateY(6px)}to{opacity:1;transform:none}}
</style>
</head>
<body>
<div class="wrap">
  <div class="header">
    <div class="brand">üöÄ Harshdeep Patil ‚Äî <span style="font-weight:400">College Portal</span></div>
    <div class="nav">
      <a href="index.html">Home</a>
      <a href="projects.html">Projects</a>
      <a href="gallery.html">Gallery</a>
      <a href="contact.html">Contact</a>
      <a href="login.html">Login</a>
    </div>
  </div>

  <div class="hero card fade-in">
    <div class="left">
      <h1 class="h1">Become top of your class with a company-grade portfolio</h1>
      <p class="small">üìö Access 2000+ words of BCA guides, real runnable projects, and open-source codebases. 
      Create your free account to explore professional-level tools built in Python, C++, HTML/CSS, JS & more.</p>
      <div style="margin-top:12px">
        <button class="playbtn" onclick="location.href='login.html'">Get Started</button>
        <button class="playbtn" onclick="document.getElementById('videoModal').style.display='block'">Watch Intro</button>
      </div>
    </div>
    <div style="width:360px;text-align:center">
      <img src="assets/placeholder.png" alt="hero" style="width:320px;border-radius:10px;box-shadow:0 10px 30px rgba(2,6,23,0.6)"/>
    </div>
  </div>

  <div class="card">
    <h3>üî• Quick Tools & Projects</h3>
    <div class="grid" id="quickTools">
      <!-- JS will fill tools after login -->
    </div>
  </div>

  <div class="card small">Made by Harshdeep ‚Äî polished template for college showcase</div>
  <div class="footer small">¬© Harshdeep Patil</div>
</div>

<div id="videoModal" style="display:none;position:fixed;inset:0;background:rgba(0,0,0,0.6);align-items:center;justify-content:center">
  <div style="width:80%;max-width:900px;background:#021427;padding:12px;border-radius:8px">
    <div style="text-align:right"><button onclick="document.getElementById('videoModal').style.display='none'">Close</button></div>
    <video controls style="width:100%;margin-top:8px"><source src="assets/hero.mp4" type="video/mp4"></video>
  </div>
</div>

<script>
const API_BASE = "https://harsh-backend-5.onrender.com"; // üîó Backend URL
const quickTools = document.getElementById('quickTools');
const token = localStorage.getItem("token");

// If no token
if (!token) {
  quickTools.innerHTML = '<div style="padding:12px;background:rgba(255,255,255,0.05);border-radius:8px">‚ö†Ô∏è Please <a href="login.html">Login</a> to see tools & projects.</div>';
} else {
  fetch(`${API_BASE}/tools`, { headers: { "Authorization": `Bearer ${token}` } })
    .then(res => {
      if (!res.ok) throw new Error("Auth failed");
      return res.json();
    })
    .then(data => {
      quickTools.innerHTML = "";
      data.forEach(tool => {
        quickTools.innerHTML += `
          <div class="card fade-in">
            <h4>${tool.name}</h4>
            <p class="small">${tool.desc}</p>
            <button class="playbtn" onclick="window.open('${tool.demo}','_blank')">‚ñ∂ Run Project</button>
            <a class="small" href="${tool.source}" target="_blank">üìÇ Source Code</a>
          </div>`;
      });
    })
    .catch(() => {
      quickTools.innerHTML = '<div style="padding:12px;background:rgba(255,80,80,0.2);border-radius:8px">‚ùå Session expired, please <a href="login.html">Login</a> again.</div>';
      localStorage.removeItem("token");
    });
}
</script>
</body>
</html>
