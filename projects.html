<!doctype html><html><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>Projects</title><style>body{font-family:Arial;background:linear-gradient(180deg,#041026,#08131f);color:#e6f7fb;margin:0;padding:20px}.wrap{max-width:1100px;margin:0 auto}.card{background:rgba(255,255,255,0.03);padding:12px;border-radius:10px;margin-bottom:12px}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:12px}.code{background:#021827;padding:8px;border-radius:6px;color:#bff0fb;max-height:220px;overflow:auto}.preview{width:100%;height:360px;border-radius:8px;border:1px solid rgba(255,255,255,0.04)}</style></head><body><div class='wrap'><h1>Projects</h1><div id='list' class='grid'></div><div class='card'><h3>Selected</h3><div id='meta'></div><pre id='src' class='code'></pre><button onclick='run()'>Run</button><div style='margin-top:8px'><iframe id='preview' class='preview'></iframe></div></div></div><script>let backendURL='https://your-backend.onrender.com';async function load(){const token=localStorage.getItem('token'); if(!token) return alert('Login first'); const res=await fetch(backendURL+'/api/examples',{headers:{Authorization:'Bearer '+token}}); if(res.status!==200) return alert('Cannot load'); const ex=await res.json(); window.examples=ex; const list=document.getElementById('list'); ex.forEach((e,i)=>{const d=document.createElement('div');d.className='card';d.innerHTML='<strong>'+e.title+'</strong><div>'+e.lang+'</div><div style="font-size:13px">'+e.description+'</div><button onclick="select('+i+')">Open</button>'; list.appendChild(d)});} load(); function select(i){window.sel=window.examples[i]; document.getElementById('meta').innerText=window.sel.title; document.getElementById('src').innerText=window.sel.source;} function run(){ if(!window.sel) return alert('Select'); if(window.sel.lang==='Python'){ const iframe=document.getElementById('preview'); const src=`<html><body><pre id='out'></pre><script>(async()=>{const s=document.createElement('script');s.src='https://cdn.jsdelivr.net/pyodide/v0.23.4/full/pyodide.js';document.head.appendChild(s);s.onload=async()=>{const py=await loadPyodide({indexURL:'https://cdn.jsdelivr.net/pyodide/v0.23.4/full/'}); try{let r=await py.runPythonAsync(\`${window.sel.source.replace(/`/g,'\\`')}\`); document.getElementById('out').innerText=String(r||'');}catch(e){document.getElementById('out').innerText='Error:'+e;}}})()</script></body></html>`; iframe.srcdoc=src; } else document.getElementById('preview').srcdoc=window.sel.source; }</script></body></html>